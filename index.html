<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Elliot & Lou üñ§</title>
    <link rel="icon" type="image/png" href="delta.png">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&family=Press+Start+2P&display=swap"
        rel="stylesheet">

    <style>
        /* --- THEME CONFIG --- */
        :root {
            --bg-deep: #050505;
            --panel-bg: rgba(20, 20, 20, 0.9);
            --border-color: #333;
            --p1-color: #00f3ff; /* Elliot */
            --p2-color: #b026ff; /* Lou */
            --text-main: #fff;
            --text-dim: #888;
            --active-green: #00ff41;
            --quest-gold: #ffd700;
            --anniversary-gold: #ffeb3b;
        }

        body {
            background-color: var(--bg-deep);
            color: var(--text-main);
            font-family: 'Rajdhani', sans-serif;
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            position: relative;
            touch-action: manipulation;
            background: radial-gradient(circle at 50% 50%, #1a0b2e 0%, #050505 100%);
            animation: bgPulse 10s infinite alternate;
        }

        @keyframes bgPulse {
            0% { background-size: 100% 100%; }
            100% { background-size: 120% 120%; }
        }

        /* --- BACKGROUND ANIMATION --- */
        .emoji-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0;
            opacity: 0.1;
            pointer-events: none;
            font-size: 4rem;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-content: space-around;
            overflow: hidden;
        }

        .emoji-bg span {
            animation: float 6s ease-in-out infinite;
        }

        .emoji-bg span:nth-child(even) {
            animation-duration: 8s;
            animation-delay: 1s;
        }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        .main-hub {
            width: 90%;
            max-width: 800px;
            text-align: center;
            z-index: 2;
            padding: 40px 0;
        }

        h1 {
            font-family: 'Press Start 2P', cursive;
            font-size: 1.8rem;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 2px;
            background: -webkit-linear-gradient(0deg, var(--p1-color), #fff, var(--p2-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(176, 38, 255, 0.5);
            line-height: 1.5;
            cursor: pointer;
            user-select: none;
        }

        /* --- ANNIVERSARY BANNER --- */
        .anniversary-banner {
            font-family: 'Press Start 2P';
            color: var(--anniversary-gold);
            font-size: 0.7rem;
            margin-bottom: 25px;
            padding: 10px;
            border: 2px solid var(--anniversary-gold);
            background: rgba(255, 215, 0, 0.1);
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            animation: glowGold 2s infinite alternate;
        }

        @keyframes glowGold {
            from { box-shadow: 0 0 5px rgba(255, 215, 0, 0.2); }
            to { box-shadow: 0 0 20px rgba(255, 215, 0, 0.6); }
        }

        .subtitle {
            color: var(--text-dim);
            font-size: 0.9rem;
            margin-bottom: 40px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'Press Start 2P';
            line-height: 1.8;
        }

        .status-active {
            color: var(--active-green);
            text-shadow: 0 0 10px rgba(0, 255, 65, 0.6);
            animation: pulseGreen 1.5s infinite alternate;
        }

        @keyframes pulseGreen {
            from { text-shadow: 0 0 5px rgba(0, 255, 65, 0.4); opacity: 0.8; }
            to { text-shadow: 0 0 20px rgba(0, 255, 65, 1); opacity: 1; }
        }

        /* --- UPTIME TRACKER --- */
        .uptime-container {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid var(--text-dim);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.1);
            backdrop-filter: blur(5px);
        }

        .uptime-label {
            color: var(--p1-color);
            font-family: 'Press Start 2P';
            font-size: 0.7rem;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: block;
        }

        .big-days-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .big-number {
            font-family: 'Press Start 2P';
            font-size: 2.2rem;
            color: var(--p2-color);
            text-shadow: 3px 3px 0 #000;
            line-height: 1;
        }

        .big-text {
            font-family: 'Press Start 2P';
            font-size: 2.2rem;
            color: #fff;
            line-height: 1;
        }

        .small-time {
            font-family: 'Press Start 2P';
            font-size: 0.8rem;
            color: #ccc;
            letter-spacing: 1px;
            line-height: 1.5;
            margin-top: 10px;
        }

        .small-num { color: var(--p2-color); }

        /* --- PLAYER CARDS --- */
        .player-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 40px;
        }

        .player-card {
            background: var(--panel-bg);
            border: 1px solid var(--border-color);
            padding: 20px;
            border-radius: 8px;
            position: relative;
            border-bottom-width: 4px;
            border-bottom-style: solid;
        }

        .player-card.p1 { border-bottom-color: var(--p1-color); }
        .player-card.p2 { border-bottom-color: var(--p2-color); }

        .player-header {
            display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 8px;
        }

        .player-header span, .player-name {
            font-family: 'Press Start 2P'; font-size: 0.9rem; color: #fff; line-height: 1;
        }

        .location-tag {
            font-size: 0.75rem; color: var(--text-dim); text-transform: uppercase; margin-bottom: 10px; letter-spacing: 1px;
        }

        .clock-display {
            font-size: 1.8rem; font-weight: 700; font-family: 'Rajdhani', monospace; color: #fff;
        }

        /* --- LOOT SECTION --- */
        .loot-btn {
            background: transparent;
            border: 2px solid var(--p2-color);
            color: var(--p2-color);
            padding: 12px 25px;
            font-family: 'Press Start 2P';
            font-size: 0.8rem;
            cursor: pointer;
            transition: 0.2s;
            box-shadow: 0 0 10px rgba(176, 38, 255, 0.2);
            margin-bottom: 40px;
        }

        .loot-btn:hover {
            background: var(--p2-color); color: #000; box-shadow: 0 0 25px rgba(176, 38, 255, 0.6); transform: scale(1.05);
        }

        #loot-result {
            margin-top: 10px; margin-bottom: 20px; min-height: 20px; color: var(--p1-color);
            font-family: 'Rajdhani', monospace; font-size: 1.2rem; font-weight: bold;
        }

        /* --- QUEST LOG --- */
        .quest-box {
            background: #000; border: 2px solid var(--text-dim); border-radius: 4px;
            padding: 20px; text-align: left; margin-bottom: 40px; box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
        }

        .quest-title {
            font-family: 'Press Start 2P'; color: var(--quest-gold); font-size: 0.8rem;
            margin-bottom: 20px; text-align: center; text-transform: uppercase;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
        }

        .quest-item {
            display: flex; align-items: center; margin-bottom: 12px;
            font-family: 'Rajdhani', monospace; font-size: 1.1rem; color: #ccc; transition: 0.3s;
        }

        .quest-item.completed { color: #555; text-decoration: line-through; }

        .quest-checkbox {
            appearance: none; width: 15px; height: 15px; border: 2px solid var(--p1-color);
            margin-right: 15px; cursor: pointer; position: relative; display: flex; align-items: center; justify-content: center;
        }

        .quest-checkbox:checked { background: var(--p1-color); }
        .quest-checkbox:checked::after { content: '‚úî'; color: #000; font-size: 10px; font-weight: bold; }

        /* --- MINIGAME SECTION --- */
        .game-area {
            border-top: 1px solid #333; padding-top: 30px; width: 100%;
        }

        .game-title {
            font-family: 'Press Start 2P'; font-size: 0.8rem; color: var(--text-dim); margin-bottom: 15px;
        }

        #gameCanvas {
            background: #000; border: 2px solid var(--p1-color); box-shadow: 0 0 15px rgba(0, 243, 255, 0.2);
            display: block; margin: 0 auto; border-radius: 4px; cursor: pointer;
        }

        .game-msg {
            margin-top: 10px; font-size: 0.8rem; color: #666; font-family: 'Press Start 2P';
        }

        /* --- ANNIVERSARY MODAL --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 9999;
            display: none; align-items: center; justify-content: center;
            opacity: 0; transition: opacity 1s;
        }

        .modal-content {
            background: #111; border: 3px solid var(--anniversary-gold);
            padding: 40px; border-radius: 20px; text-align: center;
            width: 80%; max-width: 500px;
            box-shadow: 0 0 50px rgba(255, 215, 0, 0.4);
            transform: scale(0.8); transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative; overflow: hidden;
        }

        .modal-title {
            font-family: 'Press Start 2P'; color: var(--anniversary-gold);
            font-size: 1.5rem; margin-bottom: 20px; line-height: 1.5;
            text-shadow: 2px 2px 0 #000;
        }

        .modal-body {
            font-family: 'Rajdhani', monospace; font-size: 1.2rem; color: #fff;
            min-height: 100px; margin-bottom: 30px;
        }

        .close-btn {
            background: var(--anniversary-gold); color: #000; border: none;
            padding: 15px 30px; font-family: 'Press Start 2P'; font-size: 0.8rem;
            cursor: pointer; transition: 0.2s;
        }
        .close-btn:hover { transform: scale(1.1); box-shadow: 0 0 20px var(--anniversary-gold); }

        /* Effects */
        .flash {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: white; z-index: 10000; pointer-events: none;
            opacity: 0; transition: opacity 0.5s;
        }

        /* --- CHEAT CODE RAIN --- */
        .rain-container {
            position: fixed; top: -50px; left: 0; width: 100vw; height: 100vh;
            pointer-events: none; z-index: 9998; overflow: hidden; display: none;
        }

        .rain-drop {
            position: absolute; top: -20px; font-size: 2rem; animation: fall linear forwards;
        }

        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        /* --- MOBILE ADJUSTMENTS --- */
        @media (max-width: 600px) {
            h1 { font-size: 1.1rem; margin-bottom: 10px; }
            .status-active { display: block; margin-top: 5px; }
            .subtitle { font-size: 0.7rem; letter-spacing: 1px; }
            .big-number, .big-text { font-size: 1.5rem; }
            .small-time { font-size: 0.65rem; }
            .player-grid { grid-template-columns: 1fr 1fr; gap: 10px; }
            .clock-display { font-size: 1.4rem; }
            .player-header span, .player-name { font-size: 0.6rem; }
            #gameCanvas { width: 100%; }
            .main-hub { padding-top: 20px; }
            .anniversary-banner { font-size: 0.6rem; padding: 8px; }
            .modal-title { font-size: 1rem; }
        }
    </style>
</head>

<body>

    <div id="flash-overlay" class="flash"></div>

    <div id="anniversary-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-title">üèÜ ACHIEVEMENT UNLOCKED üèÜ</div>
            <div class="modal-title" style="font-size: 0.8rem; color: #fff;">COMPLETED: 1 MONTH</div>
            <div class="modal-body" id="typewriter-text"></div>
            <button class="close-btn" onclick="closeModal()">[ CLAIM REWARD: MY HEART ]</button>
        </div>
    </div>

    <div class="emoji-bg">
        <span>üéâ</span> <span>ü•≥</span> <span>üíñ</span> <span>üéÇ</span>
        <span>üçæ</span> <span>üíë</span> <span>üéâ</span> <span>üéÆ</span>
    </div>

    <div id="rain-box" class="rain-container"></div>

    <div class="main-hub">
        <h1 onclick="triggerMobileCheat()">Server: E & L</h1>

        <div class="anniversary-banner">‚ú® EVENT: 1 MONTH ANNIVERSARY ‚ú®</div>

        <div class="subtitle">
            CO-OP CAMPAIGN STATUS: <span class="status-active">[ ACTIVE ]</span>
        </div>

        <div class="uptime-container">
            <span class="uptime-label">üéÆ Total Playtime Together üéÆ</span>

            <div id="uptime-days" class="big-days-container">
                <span class="big-number">0</span>
                <span class="big-text">DAYS</span>
            </div>

            <div id="uptime-time" class="small-time">0 HRS 0 MINS 0 SECS</div>
        </div>

        <div class="player-grid">
            <div class="player-card p1">
                <div class="player-header">
                    <span>VN</span>
                    <div class="player-name">ELLIOT</div>
                </div>
                <div class="location-tag">Base: Vietnam</div>
                <div class="clock-display" id="clock-vn">--:--</div>
            </div>

            <div class="player-card p2">
                <div class="player-header">
                    <span>US</span>
                    <div class="player-name">LOU</div>
                </div>
                <div class="location-tag">Base: USA</div>
                <div class="clock-display" id="clock-us">--:--</div>
            </div>
        </div>

        <div id="loot-result"></div>

        <div style="display: flex; flex-direction: column; align-items: center; gap: 20px; margin-bottom: 40px;">
            <button class="loot-btn" onclick="triggerAnniversaryEvent()" style="margin-bottom: 0;">üéÅ OPEN 1-MONTH GIFT</button>

            <a href="comfort.html" style="text-decoration: none;">
                <button class="loot-btn" style="border-color: #ff2a6d; color: #ff2a6d;">‚ô• ACTIVATE COMFORT PROTOCOL ‚ô•</button>
            </a>

            <a href="boss.html" style="text-decoration: none;">
                <button class="loot-btn" style="border-color: #fff; color: #fff; margin-top: 10px;">
                    ‚ö†Ô∏è CHALLENGE THE DISTANCE ‚ö†Ô∏è
                </button>
            </a>
        </div>

        <div class="quest-box">
            <div class="quest-title">üìú Active Quest Log</div>

            <div class="quest-item">
                <input type="checkbox" class="quest-checkbox" disabled>
                <span>üõ°Ô∏è Main Quest: Close the Distance</span>
            </div>

            <div class="quest-item">
                <input type="checkbox" class="quest-checkbox" id="q1" onchange="toggleQuest('q1')">
                <span>üíß Daily: Drink Water Check</span>
            </div>

            <div class="quest-item">
                <input type="checkbox" class="quest-checkbox" id="q2" onchange="toggleQuest('q2')">
                <span>üìû Daily: Call / Voice Message</span>
            </div>

            <div class="quest-item">
                <input type="checkbox" class="quest-checkbox" id="q3" onchange="toggleQuest('q3')">
                <span>üì∏ Side Quest: Send a Cute Pic</span>
            </div>
        </div>

        <div class="game-area">
            <div class="game-title">MINIGAME: JUMP THE LAG</div>
            <canvas id="gameCanvas" width="600" height="150"></canvas>
            <div class="game-msg">HIGH SCORE: <span id="high-score">0</span>km</div>
            <div class="game-msg">Press SPACE or TAP to Jump</div>
        </div>
    </div>

    <script>
        // --- CONFIGURATION ---
        const startDate = new Date('2025-11-16T00:00:00');
        const herTimeZone = 'America/New_York';

        // --- ANNIVERSARY EVENT LOGIC ---
        function triggerAnniversaryEvent() {
            // 1. Flash Screen
            const flash = document.getElementById('flash-overlay');
            flash.style.opacity = 1;
            
            // 2. Open Modal after flash
            setTimeout(() => {
                flash.style.opacity = 0;
                const modal = document.getElementById('anniversary-modal');
                modal.style.display = 'flex';
                // Small delay to allow display:flex to apply before opacity transition
                setTimeout(() => {
                    modal.style.opacity = 1;
                    document.querySelector('.modal-content').style.transform = 'scale(1)';
                    typeWriter();
                    triggerRain(); // Confetti background
                }, 100);
            }, 500);
        }

        function closeModal() {
            const modal = document.getElementById('anniversary-modal');
            modal.style.opacity = 0;
            setTimeout(() => {
                modal.style.display = 'none';
                // Show loot text as backup
                document.getElementById('loot-result').innerText = "Item Acquired: 1 Month Anniversary Badge üèÜ";
            }, 1000);
        }

        // Typewriter Effect for Modal
        const messageText = "Happy 1 Month Anniversary! \n\nEvery day with you is my favorite day. Even with the distance, you make me happier than anyone ever has. \n\nI love you so much. \n\n- Elliot";
        let charIndex = 0;
        
        function typeWriter() {
            if (charIndex < messageText.length) {
                document.getElementById("typewriter-text").innerHTML += messageText.charAt(charIndex) === '\n' ? '<br>' : messageText.charAt(charIndex);
                charIndex++;
                setTimeout(typeWriter, 50); // Speed of typing
            }
        }

        // --- STANDARD SYSTEM LOGIC ---
        function updateSystem() {
            const now = new Date();
            const diff = now - startDate;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const minutes = Math.floor((diff / (1000 * 60)) % 60);
            const seconds = Math.floor((diff / 1000) % 60);

            document.getElementById('uptime-days').innerHTML =
                `<span class="big-number">${days}</span> <span class="big-text">DAYS</span>`;

            document.getElementById('uptime-time').innerHTML =
                `<span class="small-num">${hours}</span> HRS ` +
                `<span class="small-num">${minutes}</span> MINS ` +
                `<span class="small-num">${seconds}</span> SECS`;

            const timeOpt = { hour: '2-digit', minute: '2-digit', hour12: true };
            document.getElementById('clock-vn').innerText = now.toLocaleTimeString('en-US', { ...timeOpt, timeZone: 'Asia/Ho_Chi_Minh' });
            document.getElementById('clock-us').innerText = now.toLocaleTimeString('en-US', { ...timeOpt, timeZone: herTimeZone });
        }
        setInterval(updateSystem, 1000);
        updateSystem();

        // --- QUEST LOG LOGIC ---
        function toggleQuest(id) {
            const checkbox = document.getElementById(id);
            const parent = checkbox.parentElement;
            if (checkbox.checked) {
                parent.classList.add('completed');
                localStorage.setItem(id, 'done');
            } else {
                parent.classList.remove('completed');
                localStorage.removeItem(id);
            }
        }
        window.addEventListener('load', () => {
            ['q1', 'q2', 'q3'].forEach(id => {
                if (localStorage.getItem(id) === 'done') {
                    document.getElementById(id).checked = true;
                    document.getElementById(id).parentElement.classList.add('completed');
                }
            });
        });

        // --- CHEAT CODE LOGIC ---
        let keySequence = [];
        const secretCode = "love";
        document.addEventListener('keydown', (e) => {
            keySequence.push(e.key.toLowerCase());
            if (keySequence.length > secretCode.length) keySequence.shift();
            if (keySequence.join('') === secretCode) triggerRain();
        });

        let tapCount = 0;
        let tapTimer;
        function triggerMobileCheat() {
            tapCount++;
            clearTimeout(tapTimer);
            tapTimer = setTimeout(() => { tapCount = 0; }, 1000); 
            if (tapCount === 5) {
                triggerRain();
                tapCount = 0;
            }
        }

        // RAIN EFFECT (UPDATED)
        function triggerRain() {
            const rainBox = document.getElementById('rain-box');
            rainBox.style.display = 'block';
            const emojis = ['üéâ', 'üíñ', 'ü•≥', 'üéÇ', 'üñ§', 'üëæ'];
            for (let i = 0; i < 50; i++) {
                const drop = document.createElement('div');
                drop.classList.add('rain-drop');
                drop.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                drop.style.left = Math.random() * 100 + 'vw';
                drop.style.animationDuration = (Math.random() * 2 + 1) + 's';
                drop.style.fontSize = (Math.random() * 2 + 1) + 'rem';
                rainBox.appendChild(drop);
                setTimeout(() => drop.remove(), 4000);
            }
            setTimeout(() => rainBox.style.display = 'none', 4000);
        }

        // --- MINIGAME ---
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        let highScore = localStorage.getItem('dinoHighScore') || 0;
        document.getElementById('high-score').innerText = highScore;
        let gameRunning = false;
        let score = 0;
        let isMobile = window.innerWidth < 600;
        let speed = isMobile ? 14 : 6;
        let gravity = isMobile ? 0.9 : 0.5;
        let jumpPower = isMobile ? -13 : -10;
        let player = { x: 50, y: 100, w: 20, h: 20, dy: 0, jumpPower: jumpPower, grounded: true };
        let obstacles = [];
        let frame = 0;

        function drawPlayer() {
            ctx.fillStyle = '#00f3ff'; ctx.shadowBlur = 10; ctx.shadowColor = '#00f3ff';
            ctx.fillRect(player.x, player.y, player.w, player.h); ctx.shadowBlur = 0;
        }
        function drawObstacles() {
            obstacles.forEach(obs => {
                if (obs.type === 'fly') ctx.fillStyle = '#ff2a6d';
                else if (obs.type === 'wide') ctx.fillStyle = '#00ff41';
                else ctx.fillStyle = '#b026ff';
                ctx.fillRect(obs.x, obs.y, obs.w, obs.h);
            });
        }
        function updateGame() {
            if (!gameRunning) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            player.dy += gravity; player.y += player.dy;
            if (player.y > 110) { player.y = 110; player.dy = 0; player.grounded = true; }
            frame++;
            let spawnRate = isMobile ? 40 : 90;
            if (frame % spawnRate === 0) {
                let typeSeed = Math.random();
                let newObs = { x: canvas.width, y: 110, w: 20, h: 20, type: 'std' };
                if (typeSeed > 0.7) { newObs.type = 'fly'; newObs.y = 90; newObs.h = 15; newObs.w = 15; }
                else if (typeSeed > 0.4) { newObs.type = 'wide'; newObs.y = 115; newObs.w = 30; newObs.h = 15; }
                else { newObs.y = 110; newObs.h = 20; }
                obstacles.push(newObs);
            }
            obstacles.forEach((obs, index) => {
                obs.x -= speed;
                if (player.x < obs.x + obs.w && player.x + player.w > obs.x && player.y < obs.y + obs.h && player.h + player.y > obs.y) { gameOver(); }
                if (obs.x + obs.w < 0) { obstacles.splice(index, 1); score += 10; }
            });
            drawPlayer(); drawObstacles();
            ctx.fillStyle = '#fff'; ctx.font = '10px "Press Start 2P"';
            ctx.fillText("DISTANCE: " + score + "km", 10, 20);
            requestAnimationFrame(updateGame);
        }
        function jump() {
            if (!gameRunning) { resetGame(); }
            else if (player.grounded) { player.dy = player.jumpPower; player.grounded = false; }
        }
        function gameOver() {
            gameRunning = false;
            if (score > highScore) { highScore = score; localStorage.setItem('dinoHighScore', highScore); document.getElementById('high-score').innerText = highScore; }
            ctx.fillStyle = 'rgba(0,0,0,0.7)'; ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#fff'; ctx.fillText("GAME OVER", 250, 60); ctx.fillText("Score: " + score, 260, 80); ctx.fillText("Tap to Retry", 245, 100);
        }
        function resetGame() {
            gameRunning = true; score = 0; obstacles = []; player.y = 110; player.dy = 0; frame = 0; updateGame();
        }
        document.addEventListener('keydown', (e) => { if (e.code === 'Space') { e.preventDefault(); jump(); } });
        canvas.addEventListener('touchstart', (e) => { e.preventDefault(); jump(); });
        canvas.addEventListener('mousedown', (e) => { e.preventDefault(); jump(); });
        ctx.fillStyle = '#fff'; ctx.font = '12px "Press Start 2P"'; ctx.fillText("CLICK TO START", 230, 80);
    </script>
</body>

</html>
